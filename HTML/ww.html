<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>الملف الشخصي</title>
    <style>
      // الأكواد المضافة
      @mixin object-center {
        display: flex;
        justify-content: center;
        align-items: center;
      }

      $circleSize: 165px;
      $radius: 100px;
      $shadow: 0 0 10px 0 rgba(255, 255, 255, 0.35);
      $fontColor: rgb(250, 250, 250);

      .profile-pic {
        color: transparent;
        transition: all 0.3s ease;
        @include object-center;
        position: relative;
        transition: all 0.3s ease;

        input {
          display: none;
        }

        img {
          position: absolute;
          object-fit: cover;
          width: $circleSize;
          height: $circleSize;
          box-shadow: $shadow;
          border-radius: $radius;
          z-index: 0;
        }

        .-label {
          cursor: pointer;
          height: $circleSize;
          width: $circleSize;
        }

        &:hover {
          .-label {
            @include object-center;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 10000;
            color: $fontColor;
            transition: background-color 0.2s ease-in-out;
            border-radius: $radius;
            margin-bottom: 0;
          }
        }

        span {
          display: inline-flex;
          padding: 0.2em;
          height: 2em;
        }
      }

      // نهاية الأكواد المضافة
    </style>
</head>
<body>
<h1>الملف الشخصي</h1>

    <h2>المعلومات الحالية:</h2>
    <p id="username-display">No username saved.</p>
    <p>الصورة:</p>
    <div class="profile-pic">
        <label class="-label" for="new-image">
            <span class="glyphicon glyphicon-camera"></span>
            <span>Change Image</span>
        </label>
        <input id="new-image" type="file" accept="image/*" onchange="loadFile(event)" />
        <img src="https://cdn.pixabay.com/photo/2017/08/06/21/01/louvre-2596278_960_720.jpg" id="output" width="200" />
    </div>

    <h2>تغيير المعلومات:</h2>
    <form id="profile-form">
        <label for="username">الاسم الجديد:</label>
        <input type="text" id="username" placeholder="الاسم الجديد" required>
        <button type="submit">حفظ التغييرات</button>
        <button type="button" onclick="deleteUsername()">حذف الاسم</button>
    </form>

    <script>
        // Function to save the username in a cookie
        function saveUsername() {
            const username = document.getElementById("username").value;
            document.cookie = `username=${username}; expires=${getExpirationDate(7)}`;
            displayUsername();
        }

        // Function to delete the username cookie
        function deleteUsername() {
            document.cookie = `username=; expires=${getExpirationDate(-1)}`;
            displayUsername();
        }

        // Function to display the username if it exists
        function displayUsername() {
            const username = getCookie("username");
            const usernameDisplay = document.getElementById("username-display");
            if (username) {
                usernameDisplay.innerHTML = `Your username is: ${username}`;
            } else {
                usernameDisplay.innerHTML = "No username saved.";
            }
        }

        // Function to get the expiration date for the cookie
        function getExpirationDate(days) {
            const date = new Date();
            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
            return date.toUTCString();
        }

        // Function to retrieve a specific cookie by name
        function getCookie(name) {
            const value = `; ${document.cookie}`;
            const parts = value.split(`; ${name}=`);
            if (parts.length === 2) return parts.pop().split(";").shift();
        }

        // تحقق من وجود اسم مستخدم مخزن في الكوكيز عند تحميل الصفحة
        displayUsername();
    </script>
</body>
</html>
