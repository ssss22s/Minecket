<!DOCTYPE html>
<html>
  <head>
    <title>Cookie Example</title>
  </head>
  <body>
    <h1>Cookie Example</h1>   
    <h2>الانضمام</h2>
    <label for="nick">Username:</label>
    <input type="text" id="nick" />
    <button onclick="saveUsername()">Save Username</button>
    <button onclick="deleteUsername()">Delete Username</button>
    <p id="username-display"></p>
    <script>
      // Function to save the username as a cookie
      function saveUsername() {
        const username = document.getElementById("username").value;
        document.cookie = `username=${username}; expires=${getExpirationDate(7)}`;
        displayUsername();
      }
      // Function to delete the username cookie
      function deleteUsername() {
        document.cookie = `username=; expires=${getExpirationDate(-1)}`;
        displayUsername();
      }
      
      // Function to display the username if it exists
      function displayUsername() {
        const username = getCookie("nick");
        const usernameDisplay = document.getElementById("nick-display");
        if (username) {
          usernameDisplay.innerHTML = `Your username is: ${nick}`;
        } else {
          usernameDisplay.innerHTML = "No username saved.";
        }
      }
      // Function to get the value of a cookie by name
      function getCookie(name) {
        const cookies = document.cookie.split("; ");
        for (let i = 0; i < cookies.length; i++) {
          const cookie = cookies[i].split("=");
          if (cookie[0] === name) {
            return cookie[1];
          }
        }
        return null;
      }
      // Function to get the expiration date for a cookie
      function getExpirationDate(days) {
        const date = new Date();
        date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);
        return date.toUTCString();
      }
      // Display any existing username on page load
      displayUsername();
    </script>
  </body>
</html>
